<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¤– Zaku AI - Ø£Ù‚ÙˆÙ‰ Ø±ÙˆØ¨ÙˆØª Ø°ÙƒÙŠ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(0, 0, 0, 0.3);
            padding: 30px;
            border-radius: 20px;
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h2 {
            margin-bottom: 20px;
            font-size: 1.8rem;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 10px;
        }

        .control-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .btn:active {
            transform: scale(0.95);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            padding: 15px 30px;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .btn-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .btn-danger {
            background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
        }

        #chatBox {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            height: 300px;
            overflow-y: auto;
            margin-bottom: 15px;
            font-family: monospace;
        }

        .message {
            margin: 10px 0;
            padding: 10px;
            border-radius: 8px;
        }

        .message.user {
            background: rgba(102, 126, 234, 0.3);
            text-align: right;
        }

        .message.bot {
            background: rgba(56, 239, 125, 0.3);
            text-align: left;
        }

        #chatInput {
            width: calc(100% - 100px);
            padding: 12px;
            border-radius: 8px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1rem;
        }

        #sendBtn {
            width: 90px;
            margin-right: 10px;
        }

        .status-bar {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .status-item {
            text-align: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            min-width: 150px;
            margin: 5px;
        }

        .status-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .status-value {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .block-item {
            background: rgba(255, 255, 255, 0.15);
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border-left: 4px solid #38ef7d;
        }

        .block-item:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateX(-5px);
        }

        #programArea {
            min-height: 200px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }

        .canvas-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        #robotCanvas {
            background: #fff;
            border-radius: 8px;
            max-width: 100%;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .grid {
                grid-template-columns: 1fr;
            }

            .control-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¤– Zaku AI Robot</h1>
            <p class="tagline">Ø£Ù‚ÙˆÙ‰ Ø±ÙˆØ¨ÙˆØª Ø°ÙƒÙŠ Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø¨Ø±Ù…Ø¬Ø© Ù…Ø¹ ChatGPT ÙˆØ§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ù…Ø±Ø¦ÙŠØ©</p>
        </header>

        <!-- Ø­Ø§Ù„Ø© Ø§Ù„Ø±ÙˆØ¨ÙˆØª -->
        <div class="status-bar">
            <div class="status-item">
                <div class="status-label">ğŸ”‹ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©</div>
                <div class="status-value" id="batteryLevel">100%</div>
            </div>
            <div class="status-item">
                <div class="status-label">ğŸ“ Ù…ÙˆÙ‚Ø¹ X</div>
                <div class="status-value" id="posX">0</div>
            </div>
            <div class="status-item">
                <div class="status-label">ğŸ“ Ù…ÙˆÙ‚Ø¹ Y</div>
                <div class="status-value" id="posY">0</div>
            </div>
            <div class="status-item">
                <div class="status-label">ğŸ§­ Ø§ØªØ¬Ø§Ù‡</div>
                <div class="status-value" id="orientation">0Â°</div>
            </div>
            <div class="status-item">
                <div class="status-label">âš¡ Ø§Ù„Ø­Ø§Ù„Ø©</div>
                <div class="status-value" id="robotStatus">ğŸŸ¢ Ù†Ø´Ø·</div>
            </div>
        </div>

        <div class="grid">
            <!-- Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„ÙŠØ¯ÙˆÙŠ -->
            <div class="card">
                <h2>ğŸ® Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„ÙŠØ¯ÙˆÙŠ</h2>
                <div class="control-grid">
                    <div></div>
                    <button class="btn" onclick="moveForward()">â¬†ï¸</button>
                    <div></div>
                    <button class="btn" onclick="turnLeft()">â¬…ï¸</button>
                    <button class="btn btn-danger" onclick="stop()">â¹ï¸</button>
                    <button class="btn" onclick="turnRight()">â¡ï¸</button>
                    <div></div>
                    <button class="btn" onclick="moveBackward()">â¬‡ï¸</button>
                    <div></div>
                </div>
                <button class="btn btn-success" style="width: 100%; margin-top: 15px;" onclick="resetRobot()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø·</button>
            </div>

            <!-- Ù…Ø­Ø§Ø¯Ø«Ø© ChatGPT -->
            <div class="card">
                <h2>ğŸ§  Ù…Ø­Ø§Ø¯Ø«Ø© ChatGPT</h2>
                <div id="chatBox"></div>
                <div>
                    <input type="text" id="chatInput" placeholder="Ø§ÙƒØªØ¨ Ø£Ù…Ø± Ø£Ùˆ Ø±Ø³Ø§Ù„Ø©..." onkeypress="handleEnter(event)">
                    <button class="btn btn-primary" id="sendBtn" onclick="sendMessage()">ğŸ“¤</button>
                </div>
            </div>

            <!-- Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ù…Ø±Ø¦ÙŠØ© -->
            <div class="card">
                <h2>ğŸ¨ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ù…Ø±Ø¦ÙŠØ©</h2>
                <div>
                    <button class="block-item" onclick="addBlock('move_forward', {distance: 20})">
                        â¬†ï¸ ØªÙ‚Ø¯Ù… 20 Ø³Ù…
                    </button>
                    <button class="block-item" onclick="addBlock('turn_right', {angle: 90})">
                        â¡ï¸ Ø¯ÙˆØ±Ø§Ù† ÙŠÙ…ÙŠÙ† 90Â°
                    </button>
                    <button class="block-item" onclick="addBlock('turn_left', {angle: 90})">
                        â¬…ï¸ Ø¯ÙˆØ±Ø§Ù† Ø´Ù…Ø§Ù„ 90Â°
                    </button>
                    <button class="block-item" onclick="loadTemplate('square')">
                        ğŸ”· Ø±Ø³Ù… Ù…Ø±Ø¨Ø¹
                    </button>
                    <button class="block-item" onclick="loadTemplate('triangle')">
                        ğŸ”º Ø±Ø³Ù… Ù…Ø«Ù„Ø«
                    </button>
                </div>
                <div id="programArea">
                    <em style="opacity: 0.6;">Ø§Ø¶ØºØ· Ø§Ù„Ø¨Ù„ÙˆÙƒØ§Øª Ù„Ø¨Ù†Ø§Ø¡ Ø¨Ø±Ù†Ø§Ù…Ø¬Ùƒ...</em>
                </div>
                <button class="btn btn-success" style="width: 100%;" onclick="executeProgram()">â–¶ï¸ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</button>
                <button class="btn btn-danger" style="width: 100%; margin-top: 10px;" onclick="clearProgram()">ğŸ—‘ï¸ Ù…Ø³Ø­</button>
            </div>
        </div>

        <!-- Canvas Ù„Ù„Ø±Ø³Ù… -->
        <div class="card canvas-container">
            <h2>ğŸ“Š Ù…Ø³Ø§Ø± Ø§Ù„Ø±ÙˆØ¨ÙˆØª</h2>
            <canvas id="robotCanvas" width="600" height="400"></canvas>
        </div>
    </div>

    <script>
        // Ø­Ø§Ù„Ø© Ø§Ù„Ø±ÙˆØ¨ÙˆØª
        let robot = {
            x: 300,
            y: 200,
            orientation: 0,
            battery: 100,
            active: true
        };

        let program = [];
        let canvas = document.getElementById('robotCanvas');
        let ctx = canvas.getContext('2d');

        // Ø±Ø³Ù… Ø§Ù„Ø±ÙˆØ¨ÙˆØª
        function drawRobot() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Grid
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            for (let i = 0; i < canvas.width; i += 20) {
                ctx.beginPath();
                ctx.moveTo(i, 0);
                ctx.lineTo(i, canvas.height);
                ctx.stroke();
            }
            for (let i = 0; i < canvas.height; i += 20) {
                ctx.beginPath();
                ctx.moveTo(0, i);
                ctx.lineTo(canvas.width, i);
                ctx.stroke();
            }

            // Ø§Ù„Ø±ÙˆØ¨ÙˆØª
            ctx.save();
            ctx.translate(robot.x, robot.y);
            ctx.rotate((robot.orientation * Math.PI) / 180);

            // Ø¬Ø³Ù… Ø§Ù„Ø±ÙˆØ¨ÙˆØª
            ctx.fillStyle = '#667eea';
            ctx.fillRect(-15, -15, 30, 30);

            // Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø±ÙˆØ¨ÙˆØª
            ctx.fillStyle = '#38ef7d';
            ctx.beginPath();
            ctx.moveTo(15, 0);
            ctx.lineTo(25, -8);
            ctx.lineTo(25, 8);
            ctx.fill();

            ctx.restore();

            updateStatus();
        }

        function updateStatus() {
            document.getElementById('batteryLevel').textContent = robot.battery + '%';
            document.getElementById('posX').textContent = Math.round((robot.x - 300) / 2);
            document.getElementById('posY').textContent = Math.round((200 - robot.y) / 2);
            document.getElementById('orientation').textContent = robot.orientation + 'Â°';
            document.getElementById('robotStatus').textContent = robot.active ? 'ğŸŸ¢ Ù†Ø´Ø·' : 'ğŸ”´ Ù…ØªÙˆÙ‚Ù';
        }

        // Ø§Ù„Ø­Ø±ÙƒØ©
        async function moveForward() {
            let rad = (robot.orientation * Math.PI) / 180;
            robot.x += Math.cos(rad) * 20;
            robot.y += Math.sin(rad) * 20;
            robot.battery = Math.max(0, robot.battery - 1);
            drawRobot();
            addChatMessage('bot', 'ØªÙ‚Ø¯Ù…Øª 10 Ø³Ù… â¬†ï¸');
        }

        async function moveBackward() {
            let rad = (robot.orientation * Math.PI) / 180;
            robot.x -= Math.cos(rad) * 20;
            robot.y -= Math.sin(rad) * 20;
            robot.battery = Math.max(0, robot.battery - 1);
            drawRobot();
            addChatMessage('bot', 'Ø±Ø¬Ø¹Øª Ù„Ù„Ø®Ù„Ù 10 Ø³Ù… â¬‡ï¸');
        }

        async function turnRight() {
            robot.orientation = (robot.orientation - 90) % 360;
            if (robot.orientation < 0) robot.orientation += 360;
            robot.battery = Math.max(0, robot.battery - 0.5);
            drawRobot();
            addChatMessage('bot', 'Ø§Ø³ØªØ¯Ø±Øª ÙŠÙ…ÙŠÙ† 90Â° â¡ï¸');
        }

        async function turnLeft() {
            robot.orientation = (robot.orientation + 90) % 360;
            robot.battery = Math.max(0, robot.battery - 0.5);
            drawRobot();
            addChatMessage('bot', 'Ø§Ø³ØªØ¯Ø±Øª Ø´Ù…Ø§Ù„ 90Â° â¬…ï¸');
        }

        function stop() {
            addChatMessage('bot', 'ØªÙˆÙ‚ÙØª â¹ï¸');
        }

        function resetRobot() {
            robot.x = 300;
            robot.y = 200;
            robot.orientation = 0;
            robot.battery = 100;
            drawRobot();
            addChatMessage('bot', 'ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¶Ø¨Ø· ğŸ”„');
        }

        // Chat
        function addChatMessage(sender, message) {
            let chatBox = document.getElementById('chatBox');
            let msgDiv = document.createElement('div');
            msgDiv.className = 'message ' + sender;
            msgDiv.innerHTML = `<strong>${sender === 'user' ? 'ğŸ‘¤ Ø£Ù†Øª' : 'ğŸ¤– Zaku'}:</strong> ${message}`;
            chatBox.appendChild(msgDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function sendMessage() {
            let input = document.getElementById('chatInput');
            let message = input.value.trim();

            if (!message) return;

            addChatMessage('user', message);
            input.value = '';

            // Ù…Ø­Ø§ÙƒØ§Ø© Ø±Ø¯ ChatGPT
            setTimeout(() => {
                processCommand(message);
            }, 500);
        }

        function handleEnter(event) {
            if (event.key === 'Enter') sendMessage();
        }

        function processCommand(msg) {
            let lower = msg.toLowerCase();

            if (lower.includes('ØªÙ‚Ø¯Ù…') || lower.includes('Ù‚Ø¯Ø§Ù…')) {
                moveForward();
            } else if (lower.includes('Ø§Ø±Ø¬Ø¹') || lower.includes('Ø®Ù„Ù')) {
                moveBackward();
            } else if (lower.includes('ÙŠÙ…ÙŠÙ†')) {
                turnRight();
            } else if (lower.includes('Ø´Ù…Ø§Ù„')) {
                turnLeft();
            } else if (lower.includes('Ù…Ø±Ø¨Ø¹')) {
                loadTemplate('square');
                addChatMessage('bot', 'ØªÙ…Ø§Ù…! Ø¬Ù‡Ø²Øª Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù…Ø±Ø¨Ø¹. Ø§Ø¶ØºØ· ØªØ´ØºÙŠÙ„ ğŸ”·');
            } else if (lower.includes('Ø¨Ø·Ø§Ø±ÙŠØ©')) {
                addChatMessage('bot', `ğŸ”‹ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©: ${robot.battery}%`);
            } else if (lower.includes('Ù…ÙˆÙ‚Ø¹')) {
                addChatMessage('bot', `ğŸ“ Ù…ÙˆÙ‚Ø¹ÙŠ: X=${Math.round((robot.x-300)/2)}, Y=${Math.round((200-robot.y)/2)}`);
            } else {
                addChatMessage('bot', 'ÙÙ‡Ù…Øª! Ø¹Ø§ÙŠØ²Ù†ÙŠ Ø£Ø¹Ù…Ù„ Ø¥ÙŠÙ‡ Ø¨Ø§Ù„Ø¶Ø¨Ø·ØŸ ğŸ¤”');
            }
        }

        // Visual Programming
        function addBlock(type, params) {
            program.push({type, params});
            updateProgramArea();
        }

        function updateProgramArea() {
            let area = document.getElementById('programArea');

            if (program.length === 0) {
                area.innerHTML = '<em style="opacity: 0.6;">Ø§Ø¶ØºØ· Ø§Ù„Ø¨Ù„ÙˆÙƒØ§Øª Ù„Ø¨Ù†Ø§Ø¡ Ø¨Ø±Ù†Ø§Ù…Ø¬Ùƒ...</em>';
                return;
            }

            area.innerHTML = program.map((block, i) => {
                let icon = {
                    'move_forward': 'â¬†ï¸',
                    'move_backward': 'â¬‡ï¸',
                    'turn_right': 'â¡ï¸',
                    'turn_left': 'â¬…ï¸'
                }[block.type] || 'ğŸ“¦';

                let params = Object.entries(block.params)
                    .map(([k,v]) => `${k}=${v}`)
                    .join(', ');

                return `<div class="block-item">${i+1}. ${icon} ${block.type}(${params})</div>`;
            }).join('');
        }

        function loadTemplate(name) {
            program = [];

            if (name === 'square') {
                for (let i = 0; i < 4; i++) {
                    addBlock('move_forward', {distance: 20});
                    addBlock('turn_right', {angle: 90});
                }
            } else if (name === 'triangle') {
                for (let i = 0; i < 3; i++) {
                    addBlock('move_forward', {distance: 20});
                    addBlock('turn_left', {angle: 120});
                }
            }

            updateProgramArea();
        }

        async function executeProgram() {
            addChatMessage('bot', `Ø¨Ø¯Ø£ ØªÙ†ÙÙŠØ° Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ (${program.length} Ø¨Ù„ÙˆÙƒ) â–¶ï¸`);

            for (let i = 0; i < program.length; i++) {
                let block = program[i];

                if (block.type === 'move_forward') {
                    await moveForward();
                } else if (block.type === 'move_backward') {
                    await moveBackward();
                } else if (block.type === 'turn_right') {
                    await turnRight();
                } else if (block.type === 'turn_left') {
                    await turnLeft();
                }

                await new Promise(resolve => setTimeout(resolve, 500));
            }

            addChatMessage('bot', 'Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§ÙƒØªÙ…Ù„! âœ…');
        }

        function clearProgram() {
            program = [];
            updateProgramArea();
            addChatMessage('bot', 'ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ ğŸ—‘ï¸');
        }

        // Initialize
        drawRobot();
        addChatMessage('bot', 'Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ Zaku AI. ÙƒÙŠÙ Ø£Ù‚Ø¯Ø± Ø£Ø³Ø§Ø¹Ø¯ÙƒØŸ ğŸ‘‹');
    </script>
</body>
</html>
